@using ServerPages.Shared.Components;
@using ClientFileApi;
@inject AudioPlayer AudioPlayer;
@inject ClientFileAccess ClientFileAccess;

@message

@code{
    [Parameter, EditorRequired]
    public ClientFileAccess.ClientFile ClientFile { get; set; } = default!;

    string message;

    protected override async Task OnInitializedAsync()
    {
        byte[] data = await AudioPlayer.DecodeAudioFileAsync(ClientFile);
        message = $"Decoded {data.Length} bytes";

    }
}